apiVersion: v1
kind: Service
metadata:
  name: lucene-shard-analyzer
  labels:
    app: lucene-shard-analyzer
spec:
  type: NodePort  # 通过节点端口暴露，方便本地测试
  selector:
    app: lucene-shard-analyzer
  ports:
    - name: http
      port: 80
      targetPort: 8080
      protocol: TCP
  # 默认使用 iptables 轮询实现负载均衡
  # sessionAffinity: None 确保请求均匀分发
  sessionAffinity: None
